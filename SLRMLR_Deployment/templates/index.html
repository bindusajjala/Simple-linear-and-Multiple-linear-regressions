<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prediction Models</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #74ebd5, #ACB6E5);
            text-align: center;
            padding: 40px;
        }
        h1 { color: #222; font-size: 36px; }
        .container {
            display: flex; justify-content: center; gap: 40px; margin-top: 30px;
        }
        .card {
            background: #fff; padding: 30px; border-radius: 15px;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.2); width: 250px;
            transition: transform 0.3s;
        }
        .card:hover { transform: scale(1.05); }
        a {
            display: inline-block; margin-top: 15px; text-decoration: none;
            color: white; background: #007BFF; padding: 10px 20px; border-radius: 10px;
        }
        a:hover { background: #0056b3; }
        form {
            background: #fff; padding: 30px; border-radius: 15px;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
            width: 400px; margin: 20px auto; text-align: left;
        }
        label { font-weight: bold; display: block; margin: 10px 0 5px; }
        input, select {
            width: 95%; padding: 8px; margin-bottom: 15px;
            border-radius: 5px; border: 1px solid #ccc;
        }
        button {
            background: #28a745; color: white; padding: 10px 20px;
            border: none; border-radius: 8px; cursor: pointer;
        }
        button:hover { background: #218838; }
        .result {
            margin-top: 20px; font-size: 20px; font-weight: bold; color: #333;
        }
        .graph {
            margin-top: 20px; text-align: center;
        }
    </style>
</head>
<body>
    <h1>Welcome to Prediction Models</h1>
    <p>Select which model you want to use:</p>

    {% if not model_type %}
    <div class="container">
        <div class="card">
            <h2>Simple Linear Regression</h2>
            <p>Predict Salary based on Years of Experience.</p>
            <a href="/?model=slr">Go to SLR</a>
        </div>
        <div class="card">
            <h2>Multiple Linear Regression</h2>
            <p>Predict Profit based on R&D, Admin, Marketing, and State.</p>
            <a href="/?model=mlr">Go to MLR</a>
        </div>
    </div>
    {% endif %}

    {% if model_type == 'slr' %}
    <form method="POST">
        <h2>Simple Linear Regression</h2>
        <label for="years">Years of Experience:</label>
        <input type="number" step="0.1" name="years" required>
        <button type="submit">Predict</button>
        {% if prediction %}
            <div class="result">Predicted Salary: {{ prediction }}</div>
            <div class="graph">
                <img src="/plot_slr?years={{ user_input['years'] }}" alt="SLR Graph">
            </div>
        {% endif %}
    </form>
    <a href="/">⬅ Back</a>
    {% endif %}

    {% if model_type == 'mlr' %}
    <form method="POST">
        <h2>Multiple Linear Regression</h2>
        <label for="rnd">R&D Spend:</label>
        <input type="number" step="0.1" name="rnd" required>
        <label for="admin">Administration:</label>
        <input type="number" step="0.1" name="admin" required>
        <label for="marketing">Marketing Spend:</label>
        <input type="number" step="0.1" name="marketing" required>
        <label for="state">State:</label>
        <select name="state" required>
            <option value="0">New York</option>
            <option value="1">California</option>
            <option value="2">Florida</option>
        </select>
        <button type="submit">Predict</button>
        {% if prediction %}
            <div class="result">Predicted Profit: {{ prediction }}</div>
            <div class="graph">
                <img src="/plot_mlr?rnd={{ user_input['rnd'] }}&admin={{ user_input['admin'] }}&marketing={{ user_input['marketing'] }}&state={{ user_input['state'] }}" alt="MLR Graph">
            </div>
        {% endif %}
    </form>
    <a href="/">⬅ Back</a>
    {% endif %}
</body>
</html>